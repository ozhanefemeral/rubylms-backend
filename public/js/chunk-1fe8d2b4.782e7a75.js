(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fe8d2b4"],{1723:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("99af"),n("96cf");var r=n("1da1"),a=n("d4ec"),s=n("bee2"),o=n("bc3a"),u=n.n(o),c=n("4360"),l=n("4328"),i=n.n(l),d=n("ace7"),h=function(){function e(){Object(a["a"])(this,e)}return Object(s["a"])(e,null,[{key:"GetAllStudents",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat(d["a"].schoolsUrl,"/").concat(c["a"].state.school,"/students"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"GetStudent",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,n=i.a.stringify(n),e.next=4,u.a.get("".concat(d["a"].studentsUrl,"/").concat(t),{params:{populate:n}});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"EnrollStudent",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:[],e.next=3,u.a.post("".concat(d["a"].studentsUrl,"/").concat(t,"/enroll"),{courses:n});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"CreateStudent",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("".concat(d["a"].studentsUrl),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},4128:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{"max-width":"600"},on:{input:function(t){return e.$emit("input")}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("v-card",[e._t("content")],2)],1)],1)},a=[],s={props:["value","title"],computed:{show:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},o=s,u=n("2877"),c=n("6544"),l=n.n(c),i=n("b0af"),d=n("169a"),h=Object(u["a"])(o,r,a,!1,null,null,null);t["a"]=h.exports;l()(h,{VCard:i["a"],VDialog:d["a"]})},5310:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-btn",{attrs:{color:"accent",tile:""},on:{click:function(t){e.showEnrollDialog=!0}}},[e._v(" Enroll Course ")]),e.student?n("v-row",[n("v-col",{attrs:{cols:"12",lg:"6"}},[n("v-card",{attrs:{raised:""}},[n("v-card-title",[e._v(" Overall Performance ")]),n("v-card-text",[n("apexchart",{attrs:{type:"bar",options:e.overallChartOptions,series:e.overallSeries}})],1)],1)],1),n("v-col",{attrs:{cols:"12",lg:"6"}},[n("v-card",{attrs:{raised:""}},[n("v-card-title",[e._v(" Course Performance ")]),n("v-card-text",[n("v-select",{attrs:{label:"Enrolled Course",items:e.student.courses,"item-text":"name","item-value":"_id"},model:{value:e.selectedCourse,callback:function(t){e.selectedCourse=t},expression:"selectedCourse"}}),n("apexchart",{attrs:{type:"line",options:e.courseChartOptions,series:e.courseSeries}})],1)],1)],1)],1):e._e(),n("customdialog",{scopedSlots:e._u([{key:"content",fn:function(){return[n("CustomTable",{attrs:{loading:e.loading,tableData:e.allCourses,headers:e.headers,selectable:""},on:{itemSelected:e.onItemSelected}})]},proxy:!0},{key:"actions",fn:function(){return[n("v-btn",{attrs:{color:"success",tile:""},on:{click:e.enroll}},[e._v("Enroll")])]},proxy:!0}]),model:{value:e.showEnrollDialog,callback:function(t){e.showEnrollDialog=t},expression:"showEnrollDialog"}})],1)},a=[],s=(n("4de4"),n("7db0"),n("4160"),n("d81d"),n("a434"),n("b0c0"),n("b680"),n("159b"),n("5530")),o=n("1723"),u=n("c4af"),c=n("4128"),l=n("25bf"),i={components:{customdialog:c["a"],CustomTable:l["a"]},data:function(){return{studentId:"",student:null,selectedCourse:null,datacollection:null,courseChartOptions:{chart:{id:"vuechart-example"},yaxis:{min:0,max:100.1}},courseSeries:[],overallChartOptions:{chart:{id:"vuechart-example"}},overallSeries:[{name:"Student Average",data:new Array},{name:"Course Average",data:new Array}],solutions:[],selectedCoursesEnroll:[],showEnrollDialog:!1,allCourses:[],loading:!0,headers:[{text:"Name",align:"start",value:"name"},{text:"Teacher",align:"start",value:"teachers"}]}},created:function(){var e=this;this.studentId=this.$route.params.studentId;var t=[{path:"courses",model:"Course",select:["_id","name","teacher"],populate:{path:"tasks",model:"Task",select:["solutions","name","_id"],populate:{path:"solutions",model:"Solution",select:["mark","student"]}}}];o["a"].GetStudent(this.studentId,t).then((function(t){e.student=t;for(var n=0;n<t.courses.length;n++){for(var r=t.courses[n],a=0,o=0,u=0,c=0,l=0,i=0;i<r.tasks.length;i++){for(var d=0,h=r.tasks[i],p=0;p<h.solutions.length;p++){var f=h.solutions[p];a+=f.mark,d+=f.mark,u++,f.student===e.studentId&&(e.solutions.push(Object(s["a"])(Object(s["a"])({},f),{},{courseId:r._id,taskName:h.name})),o+=f.mark,c++)}l=(d/r.tasks.length).toFixed(2),h.average=l,e.student.courses[n].tasks.splice(i,1,h)}var v=(a/u).toFixed(2),m=(o/c).toFixed(2),g={x:r.name,y:m},b={x:r.name,y:v};e.overallSeries[0].data.push(g),e.overallSeries[1].data.push(b)}}))},watch:{selectedCourse:function(){var e=this,t=this.student.courses.find((function(t){return t._id==e.selectedCourse}));console.log(t),this.courseSeries=[{name:"Student Mark",data:new Array},{name:"Task Average",data:new Array}];for(var n=0;n<t.tasks.length;n++){var r=t.tasks[n],a=r.solutions.filter((function(t){return t.student===e.studentId})),s=0;a.forEach((function(e){s+=e.mark}));var o={x:r.name,y:s/a.length||0},u={x:r.name,y:r.average};this.courseSeries[0].data.push(o),this.courseSeries[1].data.push(u)}},showEnrollDialog:function(){var e=this;if(this.loading=!0,this.showEnrollDialog&&0==this.allCourses.length){var t=["name","_id","teachers"],n=[{path:"teachers",model:"Teacher",select:["name"]}];u["a"].GetAllCourses(t,n).then((function(t){t.forEach((function(e){e.teachers=e.teachers.map((function(e){return e.name+" "}))})),e.allCourses=t,e.loading=!1}))}}},methods:{enroll:function(){console.log(this.selectedCoursesEnroll),o["a"].EnrollStudent(this.studentId,this.selectedCoursesEnroll)},onItemSelected:function(e){this.selectedCoursesEnroll=e.map((function(e){return e._id}))}}},d=i,h=n("2877"),p=n("6544"),f=n.n(p),v=n("8336"),m=n("b0af"),g=n("99d9"),b=n("62ad"),w=n("0fd9"),x=n("b974"),k=Object(h["a"])(d,r,a,!1,null,null,null);t["default"]=k.exports;f()(k,{VBtn:v["a"],VCard:m["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:b["a"],VRow:w["a"],VSelect:x["a"]})},c4af:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("99af"),n("96cf");var r=n("1da1"),a=n("d4ec"),s=n("bee2"),o=n("bc3a"),u=n.n(o),c=n("4360"),l=n("4328"),i=n.n(l),d=n("ace7"),h=function(){function e(){Object(a["a"])(this,e)}return Object(s["a"])(e,null,[{key:"GetAllCourses",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:null,n=a.length>1&&void 0!==a[1]?a[1]:null,n=i.a.stringify(n),t=i.a.stringify(t),e.next=6,u.a.get("".concat(d["a"].schoolsUrl,"/").concat(c["a"].state.school,"/courses"),{params:{populate:n,select:t}});case 6:return r=e.sent,e.abrupt("return",r.data);case 8:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"GetCourse",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,n=i.a.stringify(n),e.next=4,u.a.get("".concat(d["a"].coursesUrl,"/").concat(t),{params:{populate:n}});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"CreateCourse",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("".concat(d["a"].coursesUrl,"/"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()}}]);
//# sourceMappingURL=chunk-1fe8d2b4.782e7a75.js.map
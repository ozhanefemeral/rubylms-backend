(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3cb2d234"],{1723:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));n("99af"),n("96cf");var a=n("1da1"),r=n("d4ec"),u=n("bee2"),o=n("bc3a"),i=n.n(o),s=n("4360"),c=n("4328"),l=n.n(c),d=n("ace7"),h=function(){function t(){Object(r["a"])(this,t)}return Object(u["a"])(t,null,[{key:"GetAllStudents",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(d["a"].schoolsUrl,"/").concat(s["a"].state.school,"/students"));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"GetStudent",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:null,n=l.a.stringify(n),t.next=4,i.a.get("".concat(d["a"].studentsUrl,"/").concat(e),{params:{populate:n}});case 4:return a=t.sent,t.abrupt("return",a.data);case 6:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"EnrollStudent",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:[],t.next=3,i.a.post("".concat(d["a"].studentsUrl,"/").concat(e,"/enroll"),{courses:n});case 3:return a=t.sent,t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"CreateStudent",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.a.post("".concat(d["a"].studentsUrl),e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}()},4128:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-dialog",{attrs:{"max-width":"600"},on:{input:function(e){return t.$emit("input")}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-card",[t._t("content")],2)],1)],1)},r=[],u={props:["value","title"],computed:{show:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},o=u,i=n("2877"),s=n("6544"),c=n.n(s),l=n("b0af"),d=n("169a"),h=Object(i["a"])(o,a,r,!1,null,null,null);e["a"]=h.exports;c()(h,{VCard:l["a"],VDialog:d["a"]})},4929:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Students")]),n("v-btn",{attrs:{color:"accent",tile:""},on:{click:function(e){e.stopPropagation(),t.showCustomDialog=!0}}},[t._v(" Create Student ")]),n("v-divider"),n("CustomTable",{attrs:{tableData:t.students,headers:t.headers,loading:t.loading,viewItem:t.goStudentProfile}}),n("customdialog",{scopedSlots:t._u([{key:"content",fn:function(){return[n("CreateStudent",{on:{hideDialog:t.hideDialog}})]},proxy:!0}]),model:{value:t.showCustomDialog,callback:function(e){t.showCustomDialog=e},expression:"showCustomDialog"}})],1)},r=[],u=n("1723"),o=n("25bf"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card-text",[n("v-text-field",{attrs:{label:"Student name"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.createStudent(e)}},model:{value:t.newStudentName,callback:function(e){t.newStudentName=e},expression:"newStudentName"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{tile:"",color:"success",disabled:t.isDisabled},on:{click:t.createStudent}},[t._v(" Create ")]),n("v-btn",{attrs:{tile:"",color:"warning"},on:{click:t.cancel}},[t._v(" Cancel ")])],1)],1)},s=[],c={data:function(){return{newStudentName:""}},methods:{createStudent:function(){var t=this;if(!this.isDisabled){var e={name:this.newStudentName,school:this.$store.state.school};u["a"].CreateStudent(e).then((function(e){t.newStudentName="",t.$emit("hideDialog",e)}))}},cancel:function(){this.newStudentName="",this.$emit("hideDialog")}},computed:{isDisabled:function(){return this.newStudentName.length<2}}},l=c,d=n("2877"),h=n("6544"),f=n.n(h),p=n("8336"),v=n("99d9"),m=n("2fa4"),w=n("8654"),g=Object(d["a"])(l,i,s,!1,null,null,null),b=g.exports;f()(g,{VBtn:p["a"],VCardActions:v["a"],VCardText:v["b"],VSpacer:m["a"],VTextField:w["a"]});var S=n("4128"),k={components:{CustomTable:o["a"],customdialog:S["a"],CreateStudent:b},data:function(){return{loading:!0,students:[],headers:[{text:"Name",align:"start",value:"name"}],showCustomDialog:!1}},created:function(){var t=this;u["a"].GetAllStudents().then((function(e){t.students=e,t.loading=!1}))},methods:{goStudentProfile:function(t){this.$router.push({name:"StudentProfile",params:{studentId:t._id}})},hideDialog:function(t){this.showCustomDialog=!1,void 0!=t&&this.students.unshift(t)}}},x=k,C=n("ce7e"),D=Object(d["a"])(x,a,r,!1,null,null,null);e["default"]=D.exports;f()(D,{VBtn:p["a"],VDivider:C["a"]})}}]);
//# sourceMappingURL=chunk-3cb2d234.73738db6.js.map